// Generated by CoffeeScript 1.8.0
var hangmanApp,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

hangmanApp = angular.module("hangmanApp", ["ngRoute", "templates"]);

hangmanApp.config([
  "$routeProvider", "$locationProvider", function($routeProvider, $locationProvider) {
    $routeProvider.when('/', {
      templateUrl: "index.html",
      controller: "IndexController"
    }).otherwise({
      redirectTo: "/"
    });
    return $locationProvider.html5Mode(true);
  }
]);

hangmanApp.controller("IndexController", [
  "$scope", "$http", function($scope, $http) {
    var alphabet, x;
    $scope.alphabet = [];
    $scope.alphabetbutton = true;
    $scope.secretValue = true;
    $scope.notbutton = false;
    $scope.count = 0;
    $scope.secretword = "";
    $scope.secretWordDisplay = false;
    $scope.underscore = true;
    $scope.Ax = true;
    alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
    $scope.hangmanform = false;
    x = $scope.count.toString();
    $scope.clickedForm = function(word) {
      $scope.secretValue = false;
      $scope.alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
      console.log(word);
      $scope.secretword = word.toUpperCase();
      return $scope.hangmanform = true;
    };
    $scope.head = true;
    $scope.neck = true;
    $scope.arm1 = true;
    $scope.arm2 = true;
    $scope.body = true;
    $scope.leg1 = true;
    $scope.leg2 = true;
    $scope.losingmessage = false;
    $scope.winningmessage = false;
    $scope.correctLetterCount = 0;
    return $scope.clicked = function(letter) {
      var i, secretWordArray, sw, uniq, uniqueCharacterCount;
      x = $scope.count;
      secretWordArray = $scope.secretword.toUpperCase().split("");
      sw = $scope.secretword;
      uniq = "";
      i = 0;
      while (i < sw.length) {
        if (uniq.indexOf(sw[i]) === -1) {
          uniq += sw[i];
        }
        i++;
      }
      uniqueCharacterCount = uniq.length;
      if ($scope.count < 6) {
        if (__indexOf.call(secretWordArray, letter) >= 0) {
          console.log("number of incorrect guesses:", $scope.count);
          $scope[letter] = true;
          $scope[letter + "x"] = false;
          $scope.correctLetterCount++;
          console.log("correctLetterCount", $scope.correctLetterCount);
          console.log("uniqueCharacterCount", uniqueCharacterCount);
          if ($scope.correctLetterCount === uniqueCharacterCount) {
            console.log("YOU WON!");
            return $scope.winningmessage = true;
          }
        } else {
          console.log("not right");
          $scope.count++;
          console.log("number of incorrect guesses:", $scope.count);
          console.log("x", x);
          console.log("$scope.count", $scope.count);
          $scope.head = false;
          if ($scope.count === 2) {
            $scope.neck = false;
          }
          if ($scope.count === 3) {
            $scope.arm1 = false;
          }
          if ($scope.count === 4) {
            $scope.arm2 = false;
          }
          if ($scope.count === 5) {
            $scope.body = false;
          }
          if ($scope.count === 6) {
            return $scope.leg1 = false;
          }
        }
      } else {
        console.log("you're almost dead");
        $scope.count++;
        $scope.leg2 = false;
        return $scope.losingmessage = true;
      }
    };
  }
]);
